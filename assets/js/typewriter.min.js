"use strict";function _defineProperty(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var injectStyle=function(){var t=document.createElement("style");t.id="typewriterjs-style",t.textContent="\n        span.typewriter-cursor {\n            position: relative;\n        }\n        \n        span.typewriter-cursor::after {\n            animation-duration: .5s;\n            animation-iteration-count: infinite;\n            animation-name: cursorAnimation;\n            animation-timing-function: linear;\n            animation-direction: alternate-reverse;\n            content: '|';\n            position: absolute;\n            left: -1.5px;\n        }\n\n        @keyframes cursorAnimation {\n            40% {\n                opacity: 1;    \n            }\n            100% {\n                opacity: 0;\n            }\n        }\n    ",document.body.appendChild(t)},Typewriter=function(){function e(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{};_classCallCheck(this,e);try{if(null==t.target)throw new TypeError("A valid target is required.");if(!(t.target instanceof HTMLElement))throw new TypeError("The target must be a valid HTML element.");this.target=t.target,this.speed=t.speed||1500,this.timer=null,this.state=0,this.cursor={index:this.target.textContent.length},this.moveCursor(),null==document.getElementById("typewriterjs-style")&&injectStyle()}catch(t){throw t}}return _createClass(e,[{key:"moveCursorTo",value:function(){var t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:this.cursor.index+1;t<0?t=0:t>this.target.textContent.length&&(t=this.target.textContent.length),this.cursor.index=t}},{key:"moveCursor",value:function(t){var e=this.target.textContent;this.moveCursorTo(t),this.target.innerHTML=e.slice(0,this.cursor.index)+'<span class="typewriter-cursor"></span>'+e.slice(this.cursor.index)}},{key:"type",value:function(){var n=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},r=t.script||"",i=t.endCallback||function(){},a=t.charCallback||function(t,e){},s=t.start||0,o=t.index||s,l=t.length||r.length;s<0?o=s=0:s>this.target.textContent.length&&(s=this.target.textContent.length,o=s),l<0?l=0:l>r.length&&(l=r.length),this.state=1,0<r.length&&(this.timer=setTimeout(function(){n.moveCursorTo(o);var t,e=n.target.textContent;(n.target.innerHTML=e.slice(0,o)+r[o-s]+'<span class="typewriter-cursor"></span>'+e.slice(o),a(n.cursor.index,r[o-s]),o-s<l-1&&1===n.state)?n.type((_defineProperty(t={script:r,start:s,index:o+1,length:l},"length",l),_defineProperty(t,"endCallback",i),_defineProperty(t,"charCallback",a),t)):i()},this.speed))}},{key:"delete",value:function(){var e=this,t=0<arguments.length&&void 0!==arguments[0]?arguments[0]:{},n=t.start||this.target.textContent.length,r=t.index||n,i=t.length||n,a=t.endCallback||function(){},s=t.charCallback||function(t,e){};n<0?r=n=0:n>this.target.textContent.length&&(n=this.target.textContent.length,r=n),i<=0?i=0:i>this.target.textContent.length?i=this.target.textContent.length:n<i&&(i=n),this.state=2,0<this.target.textContent.length&&(this.timer=setTimeout(function(){e.moveCursorTo(r-1);var t=e.target.textContent;if(e.target.innerHTML=t.slice(0,r-1)+'<span class="typewriter-cursor"></span>'+t.slice(r),s(e.cursor.index,t[e.cursor.index]),!(n-i<r-1&&2===e.state))return a(),13;e.delete({start:n,length:i,index:r-1,endCallback:a,charCallback:s})},this.speed))}},{key:"stop",value:function(){null!==this.timer&&(this.state=0,clearTimeout(this.timer))}},{key:"clear",value:function(){this.stop(),this.target.textContent="",this.cursor.index=0}}]),e}();